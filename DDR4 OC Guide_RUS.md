# Содержание
1. [Подготовка](#setup)
2. [Ожидания/Ограничения](#ожиданияограничения)
   1. [Системная плата](#системная-плата)
   2. [ИС](#интегральные-схемы-ис)
      1. [Thaiphoon Отчет](#thaiphoon-отчет)
      2. [Примечание о рангах и плотности](#примечание-о-рангах-и-плотности)
      3. [Масштабирование напряжения](#масштабирование-напряжения)
      4. [Ожидаемая максимальная частота](#ожидаемая-максимальная-частота)
      5. [Биннинг](#биннинг)
      6. [Максимальное рекомендуемое повседневное напряжение](#максимальное-рекомендуемое-повседневное-напряжение)
      7. [Ранжирование](#ранжирование)
   3. [Интегрированный контроллер памяти (IMC)](#интегрированный-контроллер-памяти-imc)
      1. [Intel - LGA1151](#intel---lga1151)
      2. [AMD - AM4](#amd---am4)
3. [Разгон](#Разгон)
   1. [Нахождение максимальной частоты](#Нахождение-максимальной-частоты)
   2. [Пробуем более высокие частоты](#Пробуем-более-высокие-частоты)
   3. [Тюннинг таймингов](#Тюннинг-таймингов)
   4. [Разные советы](#Разные-советы)
      1. [Intel](#intel)
      2. [AMD](#amd)
4. [Полезная информация](#Полезная-информация)

# Подготовка
* Установить планки памяти в рекомендуемые слоты DIMM материнской платы (2-й и 4-й слот, A2 и B2 соответственно).
* Убедитесь, что ваш процессор полностью стабилен, так как нестабильный процессор может привести к ошибкам памяти. Рекомендуется убрать любой разгон процессора сверх заводских частот, на которых он полностью стабилен.
* Убедитесь, что у вас последняя версия биоса вашей материнской плате.
* [Thaiphoon](http://www.softnology.biz/files.html) чтобы посмотреть, какие микросхемы (интегральные схемы или чипы ОЗУ) используют ваши планки оперативной памяти. Это даст вам представление о том, какую частоту и тайминги ожидать от разгона.
* [MemTestHelper](https://github.com/integralfx/MemTestHelper/releases) или тестер памяти на ваш выбор. [Karhu RAM Test](https://www.karhusoftware.com/ramtest/) (платный) также является хорошим выбором. Я бы не рекомендовал тест памяти AIDA64 и [Memtest64](https://forums.anandtech.com/threads/techpowerups-memtest-64-is-it-better-than-hci-memtest-for-determining-stability.2532209/) так как они не очень хорошо умеют находить ошибки памяти.
* [TM5](http://testmem.tz.ru/tm5.rar) с [экстримальной конфигурацией от anta777](https://drive.google.com/file/d/1uegPn9ZuUoWxOssCP4PjMjGW9eC_1VJA) кажется, быстрее, чем Karhu RAMTest при поиске ошибок.
  * Обязательно загрузите конфиг. Должно быть написано «Customize: Extreme1 @ anta777», если загружено.
  * Инфо: [u/nucl3arlion](https://www.reddit.com/r/overclocking/comments/dlghvs/micron_reve_high_training_voltage_requirement/f4zcs04/)
* Для просмотра таймингов в Windows:
  * Intel: [Asrock Timing Configurator v4.0.4](https://www.asrock.com/MB/Intel/X299%20OC%20Formula/index.asp#Download) ,(не обязательно нужна материнская плата Asrock,работает на мат.платах от всех производителей, хотя на EVGA, похоже, не работает).
  * AMD: 
    * Ryzen 1000/2000: [Ryzen Timing Checker](https://www.techpowerup.com/download/ryzen-timing-checker/).
    * Ryzen 3000: [Ryzen Master](https://www.amd.com/en/technologies/ryzen-master).
* Benchmarks:
  * [AIDA64](https://www.aida64.com/downloads) - бесплатная 30-дневная пробная версия. Мы будем использовать тесты кеша и памяти (находятся в разделе инструментов), чтобы посмотреть, как работает наша память. Вы можете щелкнуть правой кнопкой мыши кнопку запуска теста и выбрать нужный пункт для пропуска тестов кэша и запустить только тесты памяти.
  * [MaxxMEM2](https://www.softpedia.com/get/System/Benchmarks/MaxxMEM2.shtml) - бесплатная альтернатива AIDA64, но тесты пропускной способности, кажется, намного ниже, поэтому она не сопоставима напрямую с AIDA64.
  * [Super Pi Mod v1.5 XS](https://www.techpowerup.com/download/super-pi/) - еще один чувствительный к памяти тест, но я использовал его не так часто, как AIDA64. 1M - 8M цифр должно быть достаточно для быстрого теста. Вам нужно только посмотреть на последнее (общее) время, где чем ниже, тем лучше.
  * [HWBOT x265 Benchmark](https://hwbot.org/benchmark/hwbot_x265_benchmark_-_1080p/) - я слышал, что этот тест также чувствителен к памяти, но я сам не тестировал его.

# Ожидания/Ограничения
* В этом разделе рассматриваются 3 компонента, которые могут повлиять на процесс разгона: микросхемы, материнская плата и IMC.

## Системная плата
* Материнские платы с 2 слотами DIMM смогут достичь самых высоких частот.
* Для материнских плат с 4 слотами DIMM количество установленных модулей зависит от вашей максимальной частоты памяти.
  * На материнских платах, которые используют [макет трассировки памяти](https://www.youtube.com/watch?v=3vQwGGbW1AE)гирляндной цепочки, предпочтительны 2 модуля. Использование 4-х модулей может существенно повлиять на вашу максимальную частоту памяти.
  * С другой стороны, материнские платы, которые используют T-топологию, будут разгоняться лучше всего с 4 планками. Использование 2-х планок не повлияет на вашу максимальную частоту памяти так же, как использование 4-х планок на материнской плате с гирляндой.
  * Большинство производителей не афишируют, какую схему трассировки памяти они используют, но вы можете сделать обоснованное предположение на основе QVL. Например [Z390 Aorus Master](http://download.gigabyte.asia/FileList/Memory/mb_memory_z390-aorus-master_20190214.pdf) вероятно, использует T-топологию, так как его самая высокая подтвержденная частота с 4 модулями DIMM. Если наивысшая подтвержденная частота была сделана с двумя модулями DIMM, вероятно, используется схема последовательного подключения.
  * Согласно buildzoid, Т-топология VS Гирлянда имеет значение только выше 4000 МГц. Если вы используете Ryzen 3000, это не имеет значения, поскольку 3800 МГц является типичной максимальной частотой памяти при работе MCLK: FCLK 1:1.
* На самых дешевых материнских платах также может память плохо разогоняться, возможно, из-за более низкого качества печатной платы и количества слоев).
  
## Интегральные схемы (ИС)
### Thaiphoon Отчет
* [Одноранговый 8Gb Hynix CJR](https://i.imgur.com/hbFyKB2.jpg).
* [Одноранговый 8Gb Micron Revision E](https://i.imgur.com/3pQjQIG.jpg) (источник: Coleh#4297).
  * SpecTek - предположительно микросхемы Микрона с пониженным бином.
  * Эзотерическое примечание: многие люди начали называть этот Микрон E-die или даже просто E-die. С первым хорошо, но последний может привести к путанице, так как буквенный кристалл обычно используется для микросхем Samsung, то есть 4-битный Samsung E-die. Samsung подразумевается, когда вы говорите E-die, но, поскольку люди называют Micron Rev. E - E-die, было бы неплохо поставить префикс производителя.
* [Двухранговый 8Gb Samsung B-die](https://i.imgur.com/Nqn8s76.jpg).

### Примечание о рангах и плотности
* Одноранговые модули обычно имеют тактовую частоту выше, чем модули двух-ранговые, но при той же частоте и таймингах двухранговые модули могут работать немного лучше из-за чередования рангов.
* Плотность имеет значение при определении того, как далеко могут зайти ваши ИС. Например, AFR 4Gb и AFR 8Gb не будут разгоняться одинаково, несмотря на то, что AFR..

### Масштабирование напряжения
* Масштабирование напряжения означает, как сильно ИС реагирует на напряжение.
* На многих микросхемах tCL масштабируется с напряжением, что означает, что увеличение напряжения может позволить вам снизить tCL. И наоборот, tRCD и tRP, как правило, не масштабируются с напряжением на многих микросхемах, а это означает, что независимо от того, какое напряжение вы в него накачиваете, они не сдвинутся с места. 
* Точно так же, если тайминги масштабируются с напряжением, это означает, что вы можете увеличить напряжение, чтобы запустить то же тайминг на более высокой частоте.
![CL11 Voltage Scaling](https://i.imgur.com/wgazx4r.png)
  * Вы можете видеть, что tCL масштабируется почти линейно до 2533 с напряжением на ИС 8Gb CJR.
  * tCL на B-die имеет идеальное линейное масштабирование с напряжением.
* Известно, что некоторые более старые микросхемы Micron (до Rev. E) масштабируются отрицательно с напряжением. То есть они становятся нестабильными на той же частоте и таймингах при увеличении напряжения (обычно выше 1,35v).
* Вот таблица общих микросхем где тайминги масштабируется с напряжением:

  | IC         | tCL | tRCD | tRP | tRFC |
  | :-:        | :-: | :--: | :-: | :--: |
  | 8Gb AFR    | Да  | Нет  | Нет | ?    | 
  | 8Gb CJR    | Да  | Нет  | Нет | Да   |
  | 8Gb Rev. E | Да  | Нет  | Да  | ?    |
  | 8Gb B-die  | Да  | Да   | Да  | Да   |
  * Тайминги, которые не зависят от напряжения, обычно необходимо увеличивать по мере увеличения частоты.
  ![B-die tRFC Масштабирование напряжения](https://i.imgur.com/0IZAy8P.png)
  Примечание: tRFC находится в тактах (тиках), а не во времени (нс).
  
### Ожидаемая максимальная частота
* Ниже приведены ожидаемые максимальные частоты для некоторых распространенных микросхем:

  | ИС | Ожидаемая максимальная частота (МГц) |
  | :-: | :-------------------------: |
  | 8Gb AFR | 3600 |
  | 8Gb CJR | 4000<sup>1</sup> |
  | 8Gb Rev. E | 4000+ |
  | 8Gb B-die | 4000+ |
  * <sup>1</sup>CJR немного противоречив в моем тестировании. Я тестировал 3 RipJaws V 3600 CL19 8 Гб. Один из них работал на частоте 3600 МГц, другой - на 3800 МГц, но последний мог работать на 4000 МГц, все на CL16 с 1,45v.
  * Не ожидайте, что микросхемы с более низким бином разгонятся почти так же, как и микросхемы с более высоким бином. Это особенно верно для [B-die](https://www.youtube.com/watch?v=rmrap-Jrfww).
  
### Биннинг
* Биннинг в основном разделяет компоненты на основе их частоты.  
  Производители будут разделять микросхемы на разные контейнеры / контейнеры в зависимости от их частоты. Отсюда и термин биннинг.
* B-die, сгруженный за 2400 15-15-15, значительно хуже, чем B-die с 3200 14-14-14 или даже 3000 14-14-14. Не ожидайте, что он будет иметь те же характеристики масштабирования напряжения, что и хороший B-кристалл.
* Чтобы выяснить, какая частота и тайминги являются лучшим бином в одной и той же микросхеме при одинаковом напряжении, выясните, какой тайминг не масштабируется с напряжением.  
  Просто разделите частоту на этот тайминг, и чем выше значение, тем более лучший бин.
  * Например, Crucial Ballistix 3000 15-16-16 и 3200 16-18-18 используют микросхемы Rev. E. Простое деление частоты на tCL дает нам одинаковое значение (200), значит ли это, что они являются одним и тем же бином?
  Нет.  
  TRCD не масштабируется с напряжением, что означает, что его нужно увеличивать по мере увеличения частоты.  
  `3000 / 16 = 187.5` но `3200 / 18 = 177.78`.  
  Как видите, 3000 15-16-16 - более лучший бин, чем 3200 16-18-18. Это означает, что комплект, рассчитанный на 3000 15-16-16, вероятно, сможет работать на 3200 16-18-18, но комплект, рассчитанный на 3200 16-18-18, может не работать на 3000 15-16-16. Разница в частоте и таймингах довольно мала, поэтому они, вероятно, разгонятся очень похоже.
  
### Максимальное рекомендуемое повседневное напряжение
* [JEDEC (стр.174)](http://www.softnology.biz/pdf/JESD79-4B.pdf) указывает, что абсолютный максимум составляет 1,50 v.
  > Напряжения, превышающие значения, перечисленные в разделе «Абсолютные максимальные значения», могут привести к необратимому повреждению устройства. Это только номинальная нагрузка, и функциональная работа устройства при этих или любых других условиях выше тех, которые указаны в рабочих разделах данной спецификации, не подразумевается. Воздействие абсолютно максимальных значений в течение длительных периодов может повлиять на надежность.
* При этом я бы рекомендовал использовать 1,5v только на B-die, так как известно, что он выдерживает высокое напряжение. По крайней мере, для обычных интегральных схем (4/8 ГБ AFR, 8 ГБ CJR, 8 ГБ Rev. E, 4/8 ГБ MFR) максимальное рекомендуемое напряжение составляет 1,45v. Сообщалось, что некоторые из менее известных микросхем, таких как [8Gb C-die](https://www.hardwareluxx.de/community/f13/samsung-8gbit-ddr4-c-die-k4a8g045wc-overclocking-ergebnisse-im-startbeitrag-1198323.html) имеют отрицательное масштабирование или даже умирают выше 1,20v.
  
### Ранжирование
* Ниже показано, как ранжируются большинство распространенных микросхем с точки зрения частоты и таймингов.
* 8Gb B-die > 8Gb Micron Rev. E > 8Gb CJR > 4Gb E-die > 8Gb AFR > 4Gb D-die > 8Gb MFR > 4Gb S-die
  * На основании [рейтинга buildzoid](https://www.reddit.com/r/overclocking/comments/8cjla5/the_best_manufacturerdie_of_ddr_ram_in_order/dxfgd4x/).
  
## Интегрированный контроллер памяти (IMC)
### Intel - LGA1151
* IMC от Intel довольно сильный, поэтому при разгоне он не должен быть узким местом.  
* Для разгона ОЗУ необходимо изменить 2 напряжения: системный агент (VCCSA) и IO (VCCIO).
НЕ оставляйте их включенными автоматически, так как они могут подавать опасные уровни напряжения в ваш IMC, потенциально ухудшая или даже убивая его. Большую часть времени вы можете сохранять VCCSA и VCCIO одинаковыми, но [иногда слишком много может нанести ущерб стабильности](https://i.imgur.com/Bv8617y.png) (если верить: Silent_Scone). Я не рекомендовал бы подниматься выше 1,25 В на каждом.  
  Ниже приведены предлагаемые VCCSA и VCCIO для двух модулей DIMM одного ранга:

  | Частота (MHz) | VCCSA/VCCIO (v) |
  | :-------------: | :-------------: |
  | 3000 - 3600 | 1.10 - 1.15 |
  | 3600 - 4000 | 1.15 - 1.20 |
  | 4000+ | 1.20 - 1.25 |
  * При наличии большего количества модулей DIMM и / или модулей DIMM двойного ранга вам может потребоваться более высокий VCCSA и VCCIO, чем предложено в таблице.
* tRCD и tRP связаны, то есть, если вы установите tRCD 16, но tRP 17, оба будут работать с более высокими таймингами (17). Это ограничение объясняет, почему многие микросхемы не так хорошо работают на Intel и почему B-die хорошо подходит для Intel.
  * В Asrock и EVGA UEFI они объединены в tRCDtRP. На UEFI ASUS tRP скрыт. В UI-интерфейсах MSI и Gigabyte tRCD и tRP видны, но установка для них различных значений просто устанавливает для них обоих более высокое значение.
* Ожидаемый диапазон задержки памяти: 40 нс - 50 нс.
  
### AMD - AM4
* IMC от Ryzen 1000 и 2000 может быть немного придирчивым при разгоне и не может работать на таких высоких частотах, как Intel. IMC Ryzen 3000 намного лучше и более или менее наравне с Intel.
* Напряжение SOC - это напряжение для IMC, и, как и в случае с Intel, не рекомендуется оставлять его включенным автоматически. Обычно ставят 1.0 - 1.1v, так как выше 1.1v не очень помогает.
На Ryzen 2000 (возможно, также 1000 и 3000) напряжение выше 1.15v может отрицательно повлиять на разгон.  
  > Существуют четкие различия в том, как контроллер памяти ведет себя на разных экземплярах процессора. Большинство процессоров будут работать на частоте 3466 МГц или выше при напряжении SoC 1,050 В, однако разница заключается в том, как разные образцы реагируют на напряжение. Некоторые образцы кажутся масштабированными с повышенным напряжением SoC, в то время как другие просто отказываются масштабироваться вообще или в некоторых случаях даже демонстрируют отрицательное масштабирование. Все протестированные образцы продемонстрировали отрицательное масштабирование (то есть больше ошибок или неработоспособности) при использовании SoC выше 1,150 В. Во всех случаях максимальная частота памяти была достигнута при напряжении = 1.100 В SoC.  
  [~ The Stilt](https://forums.anandtech.com/threads/ryzen-strictly-technical.2500572/page-72#post-39391302)
  * На Ryzen 3000 есть также CLDO_VDDG (не путать с CLDO_VDD P ), это напряжение Infinity Fabric. Я читал, что напряжение SOC должно быть, по крайней мере, на 40mV выше CLDO_VDDG, но информации об этом не так много.
* Ниже приведены ожидаемые диапазоны частот для двух модулей DIMM одного ранга при условии, что ваша материнская плата и микросхемы способны это:

  | Ryzen | Ожидаемая частота (MHz) |
  | :---: | :----------------------: |
  | 1000 | 3000 - 3600 |
  | 2000 | 3400 - 3800<sup>1</sup> |
  | 3000 | 3600 - 3800 (1:1 MCLK:FCLK) <br/> 3800+ (2:1 MCLK:FCLK) |
  * При наличии большего количества модулей DIMM и / или модулей DIMM двойного ранга ожидаемая частота может быть ниже.
  * <sup>1</sup>3600+ обычно достигается на материнской плате со слотом 1 DIMM на канал (DPC) / 2 DIMM и с очень хорошим IMC.
    * Смотрите [здесь](https://docs.google.com/spreadsheets/d/1dsu9K1Nt_7apHBdiy0MWVPcYjf6nOlr9CtkkfN78tSo/edit#gid=1814864213).
  * <sup>1</sup>3400MHz - 3533MHz это то, что большинство, если не все, IMC Ryzen 2000 должны быть в состоянии поддерживать.
    > На тестируемых образцах распределение максимально достижимой частоты памяти было следующим: 
    > 3400MHz – 12.5% моделей    
    > 3466MHz – 25.0% моделей   
    > 3533MHz – 62.5% моделей  
    [~ The Stilt](https://forums.anandtech.com/threads/ryzen-strictly-technical.2500572/page-72#post-39391302)
  * 2 процессора CCD Ryzen 3000 (3900X и 3950X) предпочитают 4 плагки одного ранга вместо 2 планок двойного ранга.
    > Для 2 CCD SKU конфигурация 2 DPC SR, кажется, является подходящим вариантом.
    > И 3600, и 3700X сделали 1800 МГц UCLK на 1 конфигурации DPC DR, но, скорее всего, из-за несоответствия двух CCD в 3900X, он едва работает с 1733 МГц на этих DIMM.
    > Между тем с 2-мя конфигурациями DPC SR нет никаких проблем в достижении 1866 МГц FCLK / UCLK.  
[~ The Stilt](https://www.overclock.net/forum/10-amd-cpus/1728758-strictly-technical-matisse-not-really-26.html#post28052342)
* tRCD делится на tRCDRD (чтение) и tRCDWR (запись). Обычно tRCDWR может быть ниже, чем tRCDRD, но я не заметил каких-либо улучшений производительности от понижения tRCDWR. Лучше держать их одинаковыми.
* Geardown mode (GDM) автоматически включается на частотах выше 2666 МГц, что обеспечивает четное tCL, даже tCWL и CR 1T. Если вы хотите запустить нечетный tCL, отключите GDM. Если работает нестабильно, попробуйте запустить CR 2T, но это может свести на нет выигрыш в производительности при снижении tCL..
  * Например, если вы попытаетесь запустить 3000 CL15 с включенным GDM, CL будет округлено до 16.
  * С точки зрения производительности: GDM отключен CR 1T> GDM включен CR 1T> GDM отключен CR 2T.
* На отдельных процессорах CCD Ryzen 3000 (процессоры ниже 3900X) пропускная способность записи уменьшается вдвое.
  > In memory bandwidth, we see something odd, the write speed of AMD's 3700X, and that's because of the CDD to IOD connection, where the writes are 16B/cycle on the 3700X, but it's double that on the 3900X. AMD said this let them conserve power, which accounts for part of the lower TDP AMD aimed for. AMD says applications rarely do pure writes, but it did hurt the 3700X's performance in one of our benchmarks on the next page.  
  [~ TweakTown](https://www.tweaktown.com/reviews/9051/amd-ryzen-3900x-3700x-zen2-review/index3.html)
* Ожидаемый диапазон задержек памяти:

  | Ryzen | Задержка (ns) |
  | :---: | :----------: |
  | 1000 | 65 - 75 |
  | 2000 | 60 - 70 |
  | 3000 | 65 - 75 (1:1 MCLK:FCLK) <br/> 75+ (2:1 MCLK:FCLK) |
* На Ryzen 3000 достаточно высокий FCLK может уменьшить задержки (latency) при десинхронизации MCLK и FCLK, но при условии, что вы можете заблокировать свой UCLK в MCLK.
  ![Chart](https://i.imgur.com/F9HpkO2.png) 
  * (Согласно: [buildzoid](https://www.youtube.com/watch?v=10pYf9wqFFY))
  
# Разгон
* Disclaimer: "кремниевая лотерея" повлияет на разгонный потенциал ваших модулей, поэтому могут быть некоторые отклонения от моих предложений.
* Процесс разгона довольно прост и сводится к 3 шагам:
  * Установите очень свободные (высокие) тайминги.
  * Увеличьте частоту DRAM до последней стабильной.
  * Затянуть (понизить)(тюннить) тайминги.

## Нахождение максимальной частоты
1. На Intel, начните с 1.15v VCCSA и VCCIO.  
   На AMD, начните с 1.10v SOC.
   * Напряжение SOC может называться по-разному в зависимости от производителя мат. платы.
     * Asrock: SOC VID разгона скрыт в меню AMD CBS.
       * [Значения VID](https://www.reddit.com/r/Amd/comments/842ehb/asrock_ab350_pro4_guide_bios_overclocking_raven/).
     * Asus: VDDCR SOC.
     * Gigabyte: Dynamic Vcore SOC.
       * Обратите внимание, что это напряжение смещается. Базовое напряжение может изменяться автоматически при увеличении частоты DRAM. + 0,100v на частоте 3000 МГц может привести к фактическому 1,10v, но + 0,100v на частоте 3400 МГц может привести к реальному 1,20v.
     * MSI: CPU NB/SOC.
2. Установите напряжение DRAM на 1.40v. Если вы используете микросхемы Micron / SpecTek, за исключением Rev. E, установите 1.35v.
3. Установите первичные тайминги на 16-20-20-40 (tCL-tRCD-tRP-tRAS).
   * Смотрите [этот пост](https://redd.it/ahs5a2) для получения дополнительной информации об этих таймингах.
4. Увеличивайте частоту DRAM, пока не станет загружаться в Windows. Имейте в виду ожидания от разгона, описанные выше.
   * Если вы работаете в Intel, быстрый способ узнать, нестабильны ли вы, - это изучить RTL и IOL. Каждая группа RTL и IOL соответствует каналу. В каждой группе есть 2 значения, которые соответствуют каждому DIMM.  
   [Asrock Timing Configurator](https://i.imgur.com/EQBl2wd.jpg)  
   Так как мои модули установлены в слот канала 2A и слот канала B2, мне нужно посмотреть на D1 в каждой группе RTL и IOL.  
   RTL должны быть не более 2-х значений друг от друга, а IOL должны быть не более 1 друг от друга.  
   В моем случае RTL равны 53 и 55, разница между которымии равна 2, а IOL равны 7.
   Обратите внимание, что наличие RTL и IOL в этих диапазонах не означает, что вы точно стабильны.
   * Если вы используете Ryzen 3000, убедитесь, что установлена частота Infinity Fabric (FCLK) равная половине вашей эффективной частоты DRAM (DRAM frequency).
5. Запустите тестер памяти на ваш выбор.  
   * Windows будет использовать ~ 2000МБ, поэтому обязательно укажите это при вводе объема ОЗУ для тестирования. У меня 16 ГБ ОЗУ и обычно тест 14000 МБ.
   * Минимальная рекомендуемая нагрузка:
     * MemTestHelper (HCI MemTest): 200% на поток.
     * Karhu RAMTest: 5000%.
       * На вкладке «Дополнительно» убедитесь, что кэш процессора включен. Это ускорит тестирование на ~ 20%.
6. Если вы крашитесь / зависаете / BSOD или получаете ошибку, сбросьте частоту DRAM на ступеньку ниже и повторите тестирование.
7. Сохраните свой профиль разгона в вашем UEFI.
8. С этого момента вы можете либо: попытаться перейти на более высокую частоту, либо работать над тюннингом таймингов.
   * Имейте в виду ожидания, описанные выше. Если вы находитесь на пределе своих IC и / или IMC, то лучше просто затянуть тайминги.
   
## Пробуем более высокие частоты
* Этот раздел применим, если вы не находитесь на пределе своей материнской платы, микросхем и IMC.  
  Этот раздел не для тех, у кого проблемы со стабилизацией частот в ожидаемом диапазоне.
1. Intel:
   * Увеличьте VCCSA и VCCIO до 1.25v.
   * Установите (CR) на 2T, если еще это не сделано.
   * Установите tCCDL на 8. В UEFI Asus нет этой настройки.
   
   Ryzen 3000:
   * Десинхронизация MCLK и FCLK может привести к значительному увеличению задержек, поэтому вам лучше тюннить тайминги, чтобы сохранить MCLK: FCLK 1: 1. См. [AMD - AM4](#amd---am4) для получения дополнительной информации.
   * В противном случае установите FCLK на стабильное значение (1600 МГц, если вы не уверены).
2. Ослабьте первичные тайминги до 18-22-22-42.
3. Увеличьте напряжение DRAM до 1.45v.
5. Выполните шаги 4-7 [Нахождение максимальной частоты](#нахождение-максимальной-частоты).
6. Перейдите к моменту [Тюннинг таймингов](#тюннинг-таймингов).
   
## Тюннинг таймингов
* Обязательно запускайте тест памяти и бенчмарк после каждого изменения, чтобы заметить повышение производительности и проверить на стабильность.
  * Я бы порекомендовал провести тестирование от 3 до 5 раз и усреднить результаты, так как тесты памяти могут немного отличаться.
  * Теотическая максимальная пропускная способность (MB/s) = `ddr_freq * num_channels * 64 / 8`.
  
    | Частота (MHz) | Максимальная двухканальная пропускная способность (MB/s) |
    | :-------------: | :-------------: |
    | 3000 | 48000 |
    | 3200 | 51200 |
    | 3400 | 54440 |
    | 3466 | 55456 |
    | 3600 | 57600 |
    | 3733 | 59728 |
    | 3800 | 60800 |
    | 4000 | 64000 |
    * Ваша пропускная способность для чтения и записи должна составлять 90% - 95% от теоретической максимальной пропускной способности.
      * На отдельных процессорах CCD Ryzen 3000 пропускная способность записи должна составлять 90% - 95% от половины теоретической максимальной пропускной способности.  
        Можно достичь половины теоретической максимальной пропускной способности записи. Смотреть [здесь](https://redd.it/cgc9bh).

1. AMD:
   * Попробуйте отключить GDM и установить CR на 1T. Если это не сработает, оставьте GDM включенным.
   
   Intel:
   * Попробуйте установить CR на 1T. Если это не сработает, оставьте CR на 2T.

2. Я бы рекомендовал сначала затюнить некоторые вторичные тайминги, поскольку они могут ускорить тестирование памяти.  
   Моё предложение:
   
   | Тайминг | Свободно | Плотоно | Экстримально |
   | ------ | ---- | ----- | ------- |
   | tRRDS tRRDL tFAW | 6 6 24 | 4 6 16 | 4 4 16 |
   | tWR | 16 | 12 | 10 |
   * Минимальный тайминг tFAW может быть tRRDS * 4.
   * Вам не нужно запускать все тайминги в одной предустановке. Возможно, вы сможете запускать tRRDS tRRDL tFAW только в плотных предустановках, но вы можете запустить tWR в экстримальной предустановке.
   
3. Далее идут основные тайминги (tCL, tRCD, tRP).
   * Начните с tCL и уменьшайте его на 1, пока не получите нестабильность.
   * Сделайте то же самое с tRCD и tRP.
   * После того, как вышеупомянутые тайминги будут максимально низкими, насколько это возможно, установите`tRAS = tCL + tRCD(RD) + 2`<sup>1</sup> and `tRC = tRP + tRAS`.
     * Установка tRAS ниже этого значения может привести к снижению [производительности](https://www.overclock.net/forum/25801780-post3757.html).
     * TRC доступен только для AMD и некоторых Intel UEFI.
     * <sup>1</sup>Micron Rev. E кажется, нуждается в tRAS = tCL + tRCD (RD) + 4 (или, по крайней мере, в моем комплекте).
     
4. Далее идет tRFC. По умолчанию для 8-гигабитных микросхем 350 нс (обратите внимание на единицы).
   * Для преобразования в нс: `2000 * timing / ddr_freq`.  
  Например, tRFC 250 на 3200 МГц равен: `2000 * 250 / 3200 = 156.25ns`.
   * Для преобразования нс: `ns * ddr_freq / 2000`.  
   Например, 180нс на 3600МГц равно: `180 * 3600 / 2000 = 324`.
   * Ниже приведены типичные значения tRFC в нс для общих микросхем:
   
     | IC | tRFC (ns) |
     | :-: | :-------: |
     | 8Gb AFR | 260 - 280 |
     | 8Gb CJR | 260 - 280 |
     | 8Gb Rev. E | 300 - 350 |
     | 8Gb B-die | 160 - 180 |
     
5. Вот мои предложения для остальных вторичных:

   | Тайминг | Свободно | Плотно | Экстримально |
   | :----: | :--: | :---: | :-----: |
   | tWTRS tWTRL | 4 12 | 4 8 | - |
   | tRTP | 12 | 10 | 8 |
   | tCWL | tCL | tCL - 1 | tCL - 2 |
   * В Intel tWTRS / L следует оставить в автоматическом режиме и управлять с помощью tWRRD_dg / sg соответственно. Отбрасывание tWRRD_dg на 1 приведет к уменьшению tWTRS на 1. Аналогично с tWRRD_sg. Как только они достигнут минимума, вручную установите tWTRS / L.
   
6. Теперь для третичных:
    * Если вы на AMD, обратитесь к  [этому сообщению](https://redd.it/ahs5a2).  
      Мое предложение:
  
       | Тайминг | Свободно | Плотно | Экстримально |
       | ------ | ---- | ----- | ------- |
       | tRDRDSCL tWRWRSCL | 4 4 | 3 3 | 2 2 |
     
    * Если вы работаете в Intel, настраивайте третичные группы по одной за раз.
      Мое предложение:
      
      | Тайминг | Свободно | Плотно | Экстримально |
      | ------ | ---- | ----- | ------- |
      | tRDRD_sg/dg/dr/dd | 8/4/8/8 | 7/4/7/7 | 6/4/6/6 |
      | tWRWR_sg/dg/dr/dd | 8/4/8/8 | 7/4/7/7 | 6/4/6/6 |
      * Для tWRRD_sg / dg, см. Шаг 5.
      * Для tRDWR_sg / dg / dr / dd отбросьте их все на 1, пока не получите нестабильность. Обычно вы можете запускать их все одинаково, например, 9/9/9/9.
      * Обратите внимание, что dr влияет только на модули с двойным рангом, поэтому, если у вас есть модули с одним рангом, вы можете игнорировать это время.  
        [Это](https://i.imgur.com/61ZtPpR.jpg) мое время на B-die, для справки.
      * TREFI - это также тайминг, который может помочь с производительностью. В отличие от всех других таймингов, чем выше, тем лучше для tREFI.  
        Как правило, не стоит слишком сильно увеличивать tREFI, поскольку изменения температуры окружающей среды (например, зимой или летом) может быть достаточно, чтобы вызвать нестабильность.
    
7. Вы также можете увеличить напряжение DRAM, чтобы уменьшить тайминги еще больше. Имейте в виду [характеристики масштабирования напряжения ваших микросхем](#масштабирование-напряжения) и [Максимальное рекомендуемое повседневное напряжение](#максимальное-рекомендуемое-повседневное-напряжение).
    
## Разные советы
* Обычно увеличение частоты DRAM на 200 МГц сводит на нет увеличение задержек за увелтчение таймингов tCL, tRCD и tRP на 1, но имеет преимущество в большей пропускной способности.  
  Например, 3000 15-17-17 имеет такую же задержку, как 3200 16-18-18, но 3200 16-18-18 имеет более высокую пропускную способность.
* Вторичные и третичные тайминги (за исключением tRFC) не сильно меняются, если вообще изменяются, в частотном диапазоне. Если у вас есть стабильные вторичные и третичные тайминги на частоте 3200 МГц, вы, вероятно, могли бы использовать их на частоте 3600 МГц, даже 4000 МГц, при условии, что ваши ИС, IMC и материнская плата способны.

### Intel
* Ослабление tCCDL до 8 может помочь со стабильностью, особенно выше 3600 МГц.
* Более высокая частота кэша (также называемая uncore, ring) может увеличить пропускную способность и уменьшить задержку.
* Увеличьте смещения IOL, чтобы уменьшить RTL и IOL. Обязательно запустите тест памяти после.  
  Больше информации смотрите [здесь](https://hwbot.org/newsflash/3058_advanced_skylake_overclocking_tune_ddr4_memory_rtlio_on_maximus_viii_with_alexaros_guide).
* Если у вас есть материнская плата Asus Maximus и вы не можете загрузиться, вы можете попробовать изменить значения смещения.  
  Больше инфо [тут](https://rog.asus.com/forum/showthread.php?47670-Maximus-7-Gene-The-road-to-overclocking-memory-without-increasing-voltage).

### AMD
* Попробуйте поиграть с ProcODT, если не можете загрузиться. На Ryzen 1000 и 2000 вы должны попробовать значения между 40Ω и 68.6Ω.  
На Ryzen 3000, [1usmus](https://www.overclock.net/forum/13-amd-general/1640919-new-dram-calculator-ryzena-1-5-1-overclocking-dram-am4-membench-0-7-dram-bench-480.html#post28049664) предлагает 28Ω - 40Ω.  
Кажется, это согласуется с настройками [The Stilt's](https://www.overclock.net/forum/10-amd-cpus/1728758-strictly-technical-matisse-not-really-26.html).
  > Phy по умолчанию AGESA, за исключением ProcODT 40,0 Ом, который является автоматическим правилом ASUS для Optimem III.
* Более низкое напряжение SOC может помочь со стабильностью.
* На Ryzen 3000 более высокий CLDO_VDDP может помочь со стабильностью выше 3600 МГц.
  > Increasing cLDO_VDDP seems beneficial > 3600MHz MEMCLKs, as increasing it seems to improve the margins and hence help with potential training issues. 
  [~ The Stilt](https://www.overclock.net/forum/10-amd-cpus/1728758-strictly-technical-matisse-not-really-26.html)

# Полезная информация
* [r/overclocking Wiki - DDR4](https://www.reddit.com/r/overclocking/wiki/ram/ddr4)
* [Demystifying Memory Overclocking on Ryzen: OC Guidelines and Explaining Subtimings, Resistances, Voltages, and More! by varexos717](https://redd.it/ahs5a2)
* [HardwareLUXX Ryzen RAM OC Thread](https://www.hardwareluxx.de/community/f13/ryzen-ram-oc-thread-moegliche-limitierungen-1216557.html)
* [Ryzen 3000 Memory / Fabric (X370/X470/X570) by elmor](https://www.overclock.net/forum/13-amd-general/1728878-ryzen-3000-memory-fabric-x370-x470-x570.html)
* [Intel Memory Overclocking Quick Reference by sdch](https://www.overclock.net/forum/27784556-post7836.html)
* [The road to overclocking memory without increasing voltage by Raja@ASUS](https://rog.asus.com/forum/showthread.php?47670-Maximus-7-Gene-The-road-to-overclocking-memory-without-increasing-voltage)
* [Advanced Skylake Overclocking: Tune DDR4 Memory RTL/IO on Maximus VIII with Alex@ro's Guide](https://hwbot.org/newsflash/3058_advanced_skylake_overclocking_tune_ddr4_memory_rtlio_on_maximus_viii_with_alexaros_guide)
